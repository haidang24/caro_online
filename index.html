<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#4d79ff" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <link
      rel="apple-touch-icon"
      href="https://img.icons8.com/color/96/null/tic-tac-toe.png"
    />
    <title>Game Caro Online</title>
    <link rel="stylesheet" href="style.css" />
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
    <!-- Enhanced Animated Background -->
    <div id="blockchain-background">
      <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
        <div class="shape shape-5"></div>
        <div class="shape shape-6"></div>
      </div>
      <div class="wave-container">
        <div class="wave wave-1"></div>
        <div class="wave wave-2"></div>
        <div class="wave wave-3"></div>
      </div>
    </div>

    <div class="container">
      <h1>Game Caro Online</h1>
      <div id="connection-status"></div>

      <!-- Login screen -->
      <div id="login-screen" class="login-screen">
        <h2>Tham gia tr√≤ ch∆°i</h2>
        <div class="tabs">
          <button class="tab-btn active" data-tab="join">Tham gia ph√≤ng</button>
          <button class="tab-btn" data-tab="create">T·∫°o ph√≤ng m·ªõi</button>
        </div>

        <!-- Join Room Tab -->
        <div id="join-tab" class="tab-content active">
          <div class="form-group">
            <label for="player-name-join">T√™n ng∆∞·ªùi ch∆°i:</label>
            <input
              type="text"
              id="player-name-join"
              placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n"
              required
            />
          </div>
          <div class="form-group">
            <label for="room-id-join">M√£ ph√≤ng:</label>
            <input
              type="text"
              id="room-id-join"
              placeholder="Nh·∫≠p m√£ ph√≤ng ƒë·ªÉ tham gia"
            />
          </div>
          <button id="join-btn" class="btn-primary">Tham gia</button>

          <div class="room-list-container">
            <h3>Danh s√°ch ph√≤ng</h3>
            <div id="room-list" class="room-list">
              <p class="loading-text">ƒêang t·∫£i danh s√°ch ph√≤ng...</p>
            </div>
            <button id="refresh-rooms" class="btn-secondary">L√†m m·ªõi</button>
          </div>
        </div>

        <!-- Create Room Tab -->
        <div id="create-tab" class="tab-content">
          <div class="form-group">
            <label for="player-name-create">T√™n ng∆∞·ªùi ch∆°i:</label>
            <input
              type="text"
              id="player-name-create"
              placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n"
              required
            />
          </div>
          <div class="form-group">
            <label for="room-name">T√™n ph√≤ng:</label>
            <input
              type="text"
              id="room-name"
              placeholder="Nh·∫≠p t√™n ph√≤ng (t√πy ch·ªçn)"
            />
          </div>
          <div class="form-group">
            <label for="room-id-create">M√£ ph√≤ng:</label>
            <input
              type="text"
              id="room-id-create"
              placeholder="ƒê·ªÉ tr·ªëng ƒë·ªÉ t·∫°o m√£ t·ª± ƒë·ªông"
            />
          </div>
          <div class="form-group">
            <label for="board-size-create">K√≠ch th∆∞·ªõc b√†n c·ªù:</label>
            <select id="board-size-create">
              <option value="10">10x10</option>
              <option value="15" selected>15x15</option>
              <option value="20">20x20</option>
            </select>
          </div>
          <div class="form-group">
            <label for="move-time">Th·ªùi gian m·ªói n∆∞·ªõc ƒëi (gi√¢y):</label>
            <select id="move-time">
              <option value="15">15 gi√¢y</option>
              <option value="30" selected>30 gi√¢y</option>
              <option value="60">1 ph√∫t</option>
              <option value="120">2 ph√∫t</option>
            </select>
          </div>
          <div class="form-group checkbox-group">
            <input type="checkbox" id="public-room" checked />
            <label for="public-room"
              >Hi·ªÉn th·ªã ph√≤ng trong danh s√°ch c√¥ng khai</label
            >
          </div>
          <div class="form-group checkbox-group">
            <input type="checkbox" id="block-two-ends" />
            <label for="block-two-ends"
              >Ch·∫∑n 2 ƒë·∫ßu (Ph·∫£i t·∫°o d√£y 5 qu√¢n kh√¥ng b·ªã ch·∫∑n)</label
            >
          </div>
          <button id="create-room-btn" class="btn-primary">T·∫°o ph√≤ng</button>
        </div>
      </div>

      <!-- Waiting screen -->
      <div id="waiting-screen" class="waiting-screen hidden">
        <h2>ƒêang ch·ªù ng∆∞·ªùi ch∆°i kh√°c...</h2>
        <div class="room-info-display">
          <p>T√™n ph√≤ng: <span id="waiting-room-name"></span></p>
          <p>M√£ ph√≤ng: <span id="room-code"></span></p>
          <p>
            K√≠ch th∆∞·ªõc b√†n c·ªù: <span id="waiting-board-size"></span>x<span
              id="waiting-board-size-2"
            ></span>
          </p>
          <p>Th·ªùi gian m·ªói n∆∞·ªõc: <span id="waiting-move-time"></span> gi√¢y</p>
          <p>Lu·∫≠t ch∆°i: <span id="waiting-block-two-ends"></span></p>
        </div>
        <p>Chia s·∫ª m√£ ph√≤ng n√†y cho b·∫°n b√® ƒë·ªÉ h·ªç c√≥ th·ªÉ tham gia!</p>
        <button id="cancel-waiting" class="btn-secondary">
          H·ªßy v√† quay l·∫°i
        </button>
      </div>

      <!-- Game container -->
      <div id="game-container" class="game-container hidden">
        <div class="game-info">
          <div class="player-turn">
            <span class="player-x active">Ng∆∞·ªùi ch∆°i X</span>
            <span class="player-o">Ng∆∞·ªùi ch∆°i O</span>
          </div>
          <div class="timer-display">
            <div class="timer-icon">‚è±Ô∏è</div>
            <div id="timer" class="timer">30</div>
          </div>
          <div class="score-board">
            <div class="score x-score">
              <span class="x-symbol">X</span>: <span id="x-score">0</span>
            </div>
            <div class="score o-score">
              <span class="o-symbol">O</span>: <span id="o-score">0</span>
            </div>
          </div>
          <div id="toggle-sound" class="sound-toggle" title="T·∫Øt √¢m thanh">
            üîä
          </div>
        </div>

        <div class="online-status">
          <div class="room-info">
            Ph√≤ng: <span id="current-room-name"></span> (<span
              id="current-room"
            ></span
            >)
            <span id="game-rules" class="game-rules"></span>
          </div>
          <div class="players-info">
            <div id="player-x-info" class="player-info">X: <span></span></div>
            <div id="player-o-info" class="player-info">O: <span></span></div>
          </div>
        </div>

        <div class="game-board" id="game-board"></div>

        <div class="controls">
          <button id="reset-game">Ch∆°i l·∫°i</button>
          <button id="new-game">V√°n m·ªõi</button>
          <select id="board-size">
            <option value="10">10x10</option>
            <option value="15" selected>15x15</option>
            <option value="20">20x20</option>
          </select>
          <select id="game-move-time">
            <option value="15">15s</option>
            <option value="30" selected>30s</option>
            <option value="60">1m</option>
            <option value="120">2m</option>
          </select>
          <button id="leave-room">R·ªùi ph√≤ng</button>
        </div>

        <!-- Emoji reactions -->
        <div class="emoji-container">
          <div id="heart-emoji" class="emoji-btn heart" title="G·ª≠i tr√°i tim">
            ‚ù§Ô∏è
          </div>
          <div id="stone-emoji" class="emoji-btn stone" title="N√©m ƒë√°">üóø</div>
          <div id="clap-emoji" class="emoji-btn clap" title="V·ªó tay">üëè</div>
          <div id="laugh-emoji" class="emoji-btn laugh" title="C∆∞·ªùi">üòÇ</div>
          <div id="think-emoji" class="emoji-btn think" title="Suy nghƒ©">
            ü§î
          </div>
          <div id="fire-emoji" class="emoji-btn fire" title="Ch√°y n·ªï">üî•</div>
          <div id="cow-emoji" class="emoji-btn cow" title="Con b√≤ si√™u cute">
            üêÑ
          </div>
        </div>

        <div id="game-message" class="game-message"></div>
      </div>

      <!-- Center turn notification with beautiful effects -->
      <div id="center-turn-notification" class="center-turn-notification">
        <div class="center-turn-content">
          <div class="turn-particles"></div>
          <div class="turn-icon"></div>
          <div class="turn-text"></div>
          <div class="turn-glow"></div>
        </div>
      </div>

      <!-- Win/Loss notification -->
      <div id="win-loss-notification" class="win-loss-notification">
        <div class="win-loss-content">
          <div class="win-loss-icon"></div>
          <div class="win-loss-title"></div>
          <div class="win-loss-subtitle"></div>
          <div class="win-loss-effects"></div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
